<section class="content-header">
    <h1><%= __('User infomation') %></h1>
</section>
<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-11">
            <nav aria-label="Page navigation example">
                <ul class="pagination pull-right">
                    <%- paginate %>
                </ul>
            </nav>
        </div>
    </div>
    <div class="row">
        <div class="col-10 offset-1">
            <div class="box box-custom">
                <div class="box-tools tool-fix-width">
                    <form method="GET" action="/admin/users/search">
                        <div class="input-group input-group-sm">
                            <select name="filter_type" class="form-control pull-right padding-select">
                                    <option value="1"><%= __('Search by') %>: <%= __('Staff Code') %></option>
                                    <option value="2"><%= __('Search by') %>: <%= __('Email') %></option>
                            </select>
                                <input type="text" name="key_word" class="form-control pull-right" placeholder="<%= __('Search by name') %>">
                            <div class="input-group-btn">
                                <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title"><%= __('User manager') %></h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body no-padding table-box">
                    <table class="table table-hover table-responsive table-users">
                        <tr>
                            <th><%= __('Staff Code') %></th>
                            <th><%= __('Email') %></th>
                            <th><%= __('Branch') %></th>
                            <th class="text-center"><%= __('Create Date') %></th>
                            <th class="text-center"><%= __('Book Own') %></th>
                            <th class="text-center"><%= __('Reputations') %></th>
                            <% if (user.role == configs.role.admin) {%>
                                <th class="text-center"><%= __('Role') %></th>
                            <% } %>
                        </tr>
                        <% if (dataRequest.items.data.length > 0) { %>
                            <% dataRequest.items.data.forEach(function(data) { %>
                            <tr class="cursor-hover">
                                <td class="text-center"><%= data.employee_code %></td>
                                <td><%= data.email %></td>
                                <td><%= data.office.name %></td>
                                <td class="text-center"><%= data.join_date %></td>
                                <td class="text-center"><%= data.owners_count %></td>
                                <td class="text-center"><%= data.reputation_point %></td>
                                <% if (user.role == configs.role.admin) {%>
                                    <td>
                                        <select name="role" class="set_role_user form-control">
                                             <option value="<%= data.id %>/<%= configs.role.admin %>" <%= data.role == configs.role.admin ? "Selected" : "" %> ><%= configs.role.admin%></option>
                                            <option value="<%= data.id %>/<%= configs.role.user %>" <%= data.role == configs.role.user ? "Selected" : "" %>><%= configs.role.user %></option>
                                            <option value="<%= data.id %>/<%= configs.role.librarian %>" <%= data.role == configs.role.librarian ? "Selected" : "" %>><%= configs.role.librarian %></option>
                                        </select>
                                    </td>
                                <% } %>
                            </tr>
                            <% }) %>
                        <% } %>
                    </table>
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>
    </div>
    <div class="row">
        <div class="col-11">
            <nav aria-label="Page navigation example">
                <ul class="pagination pull-right">
                    <%- paginate %>
                </ul>
            </nav>
        </div>
    </div>
</section>
